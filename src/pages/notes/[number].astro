---
import Note from "@components/Note.astro";
import PageLayout from "@layouts/PageLayout.astro";
import { getCollection } from "astro:content";
import {
  getNoteNumberFromFilePath,
  getSortedCollection,
  getSortedContent,
  getSortedContentV2,
} from "src/utils";

export async function getStaticPaths() {
  const notes = getSortedContentV2(await getCollection("notes"));

  return notes.map((note) => {
    return {
      params: {
        number: note.slug,
      },
      props: {
        note,
      },
    };
  });
}

const { note } = Astro.props;

const title = `Note #` + note.slug;
---

<PageLayout title={title} withoutH1>
  <div></div>
  <Note {...note} />
  <p>Browse <a href="/notes/">all notes</a></p>
</PageLayout>

<style>
  div {
    height: 2.5rem;
  }
  p {
    margin-top: 2rem;
    text-align: center;
  }
</style>
