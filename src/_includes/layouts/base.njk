<!doctype html>
<html lang="en" {% if pageFlavor %}data-page-flavor="{{pageFlavor}}"{% endif %}>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {% include "partials/meta-info.njk" %}
        <link rel="stylesheet" href="{{ '/css/index.css' | url }}">
        <link rel="alternate" href="{{ metadata.feed.path | url }}" type="application/atom+xml" title="{{ metadata.title }}">
        <link rel="alternate" href="{{ 'feed/notes.xml' | url }}" type="application/atom+xml" title="Notes on {{ metadata.title }}">
        <link rel="shortcut icon" href="{{ '/img/seanmcp.favicon.png' | url }}" type="image/png">
        {% set criticalStyles %}
            {% include "css/critical.css" %}
        {% endset %}
        <style>{{ criticalStyles | cssmin | safe }}</style>
        {% if styles %}
        {% for style in styles%}
            <link rel="stylesheet" href="{{ '/css/' + style | url }}">
        {% endfor %}
        {% endif %}
        {% if head -%}{{ head | safe }}{%- endif %}
    </head>
    <body data-page-type="{{ layout }}" {% if bodyClass %}class="{{ bodyClass }}"{% endif %}>
        <div id="scroll-progress"><span></span></div>
        <a class="skip-link" href="#main">Skip to main content</a>
        {% include "partials/header.njk" %}

        <main id="main" role="main" class="main {% if templateClass %}main--{{ templateClass }}{% endif %}">
            {{ content | safe }}
        </main>

        {% include "partials/footer.njk" %}
        <!-- Current page: {{ page.url | url }} -->
    </body>
    <script src="{{ '/js/scroll-progress.js' | url }}"></script>
    <script src="{{ '/js/theme-toggle.js' | url }}"></script>
    {% if foot %}{{ foot | safe }}{% endif %}
</html>