<!doctype html>
<html lang="en" >
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        





<title>JS Basics: Generate a random number - SeanMcP.com</title>
<meta property="og:site_name" content="SeanMcP.com" />
<meta property="og:title" content="JS Basics: Generate a random number" />
<meta name="twitter:title" content="JS Basics: Generate a random number">

<meta name="description" content="Using JavaScript&#39;s Math object to generate random numbers">
<meta property="og:description" content="Using JavaScript&#39;s Math object to generate random numbers" />
<meta name="twitter:description" content="Using JavaScript&#39;s Math object to generate random numbers">

<meta property="og:image" content="https://seanmcp.com/img/seanmcp.favicon.png" />
<meta name="twitter:image" content="https://seanmcp.com/img/seanmcp.favicon.png">


<meta property="og:type" content="website" />
<meta property="og:url" content="https://seanmcp.com/articles/js-generate-random-number/" />


<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@snmcp">
        <link rel="stylesheet" href="/css/index.css">
        <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Sean McPherson">
        <link rel="alternate" href="feed/notes.xml" type="application/atom+xml" title="Notes on Sean McPherson">
        
            <link rel="shortcut icon" href="/img/seanmcp.favicon.png" type="image/png">
        
        
        <style>:root{--dark:hsl(216, 5%, 10%);--light:hsl(216, 5%, 97%);--accent:hsl(188, 100%, 42%);--primary:hsl(216, 85%, 34%);--background:var(--light);--off-background:hsla(0, 0%, 10%, 20%);--text-color:var(--dark);--anchor-color:var(--primary);--note-anchor-color:var(--accent);--block-code-background:hsla(0, 0%, 0%, 90%);--inline-code-background:hsla(0, 0%, 0%, 7.5%);--inline-code-color:hsla(0, 0%, 0%, 75%);--body-font:-apple-system,BlinkMacSystemFont,Helvetica,Arial,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;--mono-font:Menlo,Monaco,Consolas,"Andale Mono WT","Andale Mono","Lucida Console","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L","Courier New",Courier,monospace}html[data-page-flavor=soccer]{--accent:hsl(100, 50%, 50%);--primary:hsl(120, 50%, 30%)}body{--scroll-progress-height:6px;background:var(--background);color:var(--text-color);font-family:var(--body-font);margin:0;padding:0;padding-top:var(--scroll-progress-height);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body[data-theme=dark]{--background:var(--dark);--off-background:hsla(216, 5%, 95%, 15%);--text-color:var(--light);--anchor-color:var(--accent);--inline-code-background:hsla(0, 0%, 0%, 50%);--inline-code-color:hsla(0, 0%, 100%, 85%);--note-anchor-color:var(--primary)}.container{padding:1rem;margin:0 auto}.site-header .container{align-items:center;display:flex;justify-content:space-between}.site-header nav{align-items:center;display:flex;flex-wrap:wrap}.site-header nav a:not(:last-of-type){margin-right:1rem}:is(.stars-toggle,.theme-toggle):hover{cursor:pointer;outline:0!important}:is(.theme-toggle,.stars-toggle):focus-within{outline:3px solid var(--anchor-color);outline-offset:3px}.theme-toggle:hover span::before{transform:translateX(-2px)}.theme-toggle:hover span::after{transform:translateX(2px)}.theme-toggle input+span{--size:1.25em;display:inline-block;position:relative;width:var(--size);height:var(--size)}.theme-toggle input+span::after,.theme-toggle input+span::before{border:1px solid var(--text-color);content:"";display:inline-block;height:calc(var(--size) * 2 / 3);position:relative;transition:transform .1s ease-in-out;width:calc(var(--size) * 2 / 3)}.theme-toggle input+span::before{background-color:var(--text-color)}.theme-toggle input+span::after{background:var(--background);position:absolute;bottom:0;right:0}.theme-toggle input:checked+span::before{background-color:var(--background)}.theme-toggle input:checked+span::after{background-color:var(--text-color);z-index:-1}.stars-toggle{align-items:center;display:flex;justify-content:center}.stars-toggle svg{display:inline-block}.stars-toggle path{transition:transform .2s ease-in-out;transform-origin:50% 50%}.stars-toggle:hover path{transform:rotate(72deg)}.stars-toggle input:checked+svg{fill:currentColor}[data-star]{cursor:pointer;font-size:1.5rem;position:absolute;transform:translate(-50%,-50%)}[data-star]:after{content:"⭐️";display:inline-block}@media screen and (min-width:500px){.container{padding:2rem}.container.--content{max-width:70ch}}.breadcrumbs ol{display:flex;list-style:none;margin:0;padding:0}.breadcrumbs li+li::before{color:var(--off-background);content:"/";display:inline-block;height:1rem;margin:0 .5rem}.skip-link{background-color:var(--primary);color:#fff!important;font-weight:700;position:fixed;padding:1rem;z-index:9999}.skip-link:not(:focus){right:200%}.skip-link:focus{left:0;outline:2px dotted white}#scroll-progress{--height:var(--scroll-progress-height);background:linear-gradient(to right,var(--accent),var(--primary));position:fixed;height:var(--height);left:0;right:0;top:0;z-index:1000}#scroll-progress span{--width:var(--height);border-right:var(--width) solid var(--background);bottom:0;left:calc(var(--width)/ -2);position:absolute;top:0;width:0%}</style>
        
        
            <link rel="stylesheet" href="/css/prism.css">
        
            <link rel="stylesheet" href="/css/markdown-it.css">
        
        
        
    </head>
    <body data-page-type="article" >
        <div id="scroll-progress"><span></span></div>
        <a class="skip-link" href="#main">Skip to main content</a>
        <header class="site-header">
    <div class="container --content">
        <a aria-label="Sean McP" class="logo-link" href="/"></a>
        <div style="align-items:center;display:flex;">
            
            
            
            <nav aria-label="primary" id="desktop-nav"><a  href="/articles/">Articles</a><a  href="/about/">About</a></nav>
            <label class="theme-toggle" style="margin-left:1.25rem">
                <span class="--visually-hidden">Toggle theme</span>
                <input class="--visually-hidden" type="checkbox" id="dark-mode"/>
                <span></span>
            </label>
            <label class="stars-toggle" style="margin-left:1.25rem">
                <span class="--visually-hidden">Toggle stars</span>
                <input class="--visually-hidden" type="checkbox" id="stars-checkbox" checked/>
                <svg width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12 1.34175L14.6395 7.91471L14.7565 8.20601L15.0697 8.22724L22.1366 8.70642L16.701 13.2479L16.4601 13.4492L16.5367
                            13.7536L18.2648 20.6227L12.2659 16.8565L12 16.6896L11.7341 16.8565L5.73524 20.6227L7.46331 13.7536L7.5399 13.4492L7.29901
                            13.2479L1.8634 8.70642L8.93032 8.22724L9.2435 8.20601L9.36048 7.91471L12 1.34175Z"
                        stroke="currentColor"/>
                </svg>
            </label>
        </div>
    </div>
</header>

        <main id="main" role="main" class="main main--article">
            

<article class="article">
    <div class="container --content">
        
            <time class="date" datetime="2019-02-11">Feb 11, 2019</time>
        
        <h1 style="margin-top:1rem;">JS Basics: Generate a random number</h1>
        
            
            <ul class="--horizontal-list">
    
            <li>
                <a href="/tags/javascript/" class="tag tag--javascript">JavaScript</a>
            </li>
</ul>
        
        <hr class="small"/>
        
        <p>Whether you are simulating a die roll or pulling any index from an array, computers can be used to generate a random number. In JavaScript, random numbers require a combination of methods on the <code>Math</code> object that can be a little tricky to understand your first time through.</p>
<h2 id="random-die-roll" tabindex="-1">Random die roll</h2>
<p>Let’s say you want to create a digital six-sided die, which will give you a random number between one and six when called. Our function to simulate a die roll will look like this:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">rollDie</span> <span class="token operator">=</span> <span class="token parameter">sides</span> <span class="token operator">=></span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> sides<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><br><br><span class="token function">rollDie</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token comment">// 1</span></code></pre>
<p>Every time we call the function, it will return any number from one to six, inclusive. But why? To answer that question, we need to know more about the two methods on the <code>Math</code> object we called.</p>
<h2 id="math-methods" tabindex="-1">Math methods</h2>
<p><code>Math.random()</code> is a method that generates an integer (number with a decimal) from zero to one, including zero but excluding one. The output of <code>Math.random()</code> could be 0, 0.1, 0.2, 0.3343424587866554652345, or 0.99. Anything from zero to nearly one is a possibility.</p>
<p><code>Math.floor</code> is a method that rounds an integer down to the nearest whole number. Rounding down, 0.1 becomes 0, 3.6 becomes 3, and 5.4 becomes 5. Think of it as rounding all the way down to the floor. (Note: there is also a <code>Math.ceil</code> function for rounding up that I’ll mention later).</p>
<p>By combining these two methods, we can generate the random number for our die. Starting on the inside of our function and working outward:</p>
<ol>
<li><code>Math.random()</code> returns an integer <strong>between</strong> zero and nearly one: <code>0.16</code></li>
<li>Next we <strong>multiply</strong> that integer by the number of sides: <code>0.16 * 6 = 0.96</code></li>
<li>Then we <strong>round</strong> that product up with <code>Math.floor</code>: <code>0.96 -&gt; 0</code></li>
<li>Finally, we <strong>add</strong> one to get our final random number: <code>0 + 1 = 1</code></li>
</ol>
<p>The result of our <code>rollDie(6)</code> function is <code>1</code>!</p>
<p>Our function allows for a varying number of sides, so you would only need to pass a different argument if you were rolling a different die (much to the satisfaction of all <a href="https://en.wikipedia.org/wiki/Dungeons_%26_Dragons#Game_mechanics">D&amp;D players</a> out there).</p>
<p>You might even create some help functions to simplify calling different sided dice:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">rollD6</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">rollDie</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><br><span class="token keyword">const</span> <span class="token function-variable function">rollD12</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">rollDie</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><br><span class="token keyword">const</span> <span class="token function-variable function">rollD20</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">rollDie</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><br><span class="token comment">// etc...</span></code></pre>
<p>I used functions like these in Dice Roller, a handy dice rolling app for table-top gaming. You can <a href="https://github.com/SeanMcP/dice-roller">view the project’s source code here</a>.</p>
<h2 id="common-questions" tabindex="-1">Common questions</h2>
<p>Here are some questions you may have (I know I did!) about our <code>rollDie</code> function:</p>
<h3 id="%E2%80%9Cwhy-did-we-need-to-add-one-to-our-number%3F%E2%80%9D" tabindex="-1">“Why did we need to add one to our number?”</h3>
<p><code>Math.floor(Math.random() * 6)</code> alone will generate a random number between 0 and 5. That is six options, but I’ve never seen a die numbered from zero to five. We add one to the output so that it makes sense for our situation.</p>
<h3 id="%E2%80%9Cwouldn%E2%80%99t-using-math.ceil-make-the-%2B-1-unnecessary%3F%E2%80%9D" tabindex="-1">“Wouldn’t using <code>Math.ceil</code> make the <code>+ 1</code> unnecessary?”</h3>
<p>In the same manner that <code>Math.floor</code> rounded our integer down to the nearest whole number, <code>Math.ceil</code>–short for “ceiling”–rounds an integer up. At face value, this would simplify our solution–but for one issue:</p>
<pre class="language-js"><code class="language-js">Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 0</span></code></pre>
<p>Since <code>Math.random()</code> <strong>can</strong><sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> return a <code>0</code>, using <code>Math.ceil</code> would on a rare instance return an unexpected value. So it’s safer to use <code>Math.floor</code> and add one.</p>
<h3 id="%E2%80%9Cdoes-the-math-always-work-out%3F%E2%80%9D" tabindex="-1">“Does the math always work out?”</h3>
<p>I’ve included a few additional examples at the bottom of this post<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>. Try it out for yourself and see! <span role="img" aria-label="smiling face with squinting eyes emoji">😊</span></p>
<h2 id="random-item-from-an-array" tabindex="-1">Random item from an array</h2>
<p>The <code>rollDie</code> works well for our dice example, but what if you want to select a random item from an array? Remember, that <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array#Accessing_array_elements">arrays are zero-indexed (MDN)</a>, which means that the first item of an array is accessed with a zero (<code>0</code>):</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> myArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'first'</span><span class="token punctuation">,</span> <span class="token string">'second'</span><span class="token punctuation">,</span> <span class="token string">'third'</span><span class="token punctuation">]</span><br><br>myArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// 'first'</span></code></pre>
<p>Our <code>rollDie</code> function will never return a <code>0</code> because we’re always adding one. By removing that addition, we can create a new function that will work well with arrays. Let’s use the code from the previous block and add:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">randomIndex</span> <span class="token operator">=</span> <span class="token parameter">arrayLength</span> <span class="token operator">=></span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> arrayLength<span class="token punctuation">)</span><br><br><span class="token function">randomIndex</span><span class="token punctuation">(</span>myArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// 0</span></code></pre>
<p>By calling our function and passing the length of our array, we can pull a random item from our array:</p>
<pre class="language-js"><code class="language-js">myArray<span class="token punctuation">[</span><span class="token function">randomIndex</span><span class="token punctuation">(</span>myArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">// 'second'</span><br>myArray<span class="token punctuation">[</span><span class="token function">randomIndex</span><span class="token punctuation">(</span>myArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">// 'first'</span><br>myArray<span class="token punctuation">[</span><span class="token function">randomIndex</span><span class="token punctuation">(</span>myArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">// 'second'</span></code></pre>
<p>Using our function in this manner is a little repetitive, so let’s create another function that will simplify the process for us:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">randomItemFrom</span> <span class="token operator">=</span> <span class="token parameter">array</span> <span class="token operator">=></span> array<span class="token punctuation">[</span><span class="token function">randomIndex</span><span class="token punctuation">(</span>array<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><br><br><span class="token function">randomItemFrom</span><span class="token punctuation">(</span>myArray<span class="token punctuation">)</span> <span class="token comment">// 'third'</span><br><span class="token function">randomItemFrom</span><span class="token punctuation">(</span>myArray<span class="token punctuation">)</span> <span class="token comment">// 'second'</span></code></pre>
<p>Now we have a few handy utility functions:</p>
<ol>
<li><code>rollDie</code> for simulating a die roll with a given number of sides,</li>
<li><code>randomIndex</code> for getting a valid index from an array, and</li>
<li><code>randomItemFrom</code> for returning a random item from an array</li>
</ol>
<p>While building those, we learned about JavaScript’s <code>Math</code> object and some of its methods: <code>random</code>, <code>floor</code>, and <code>ceil</code>.</p>
<p>Happy coding!</p>
<hr class="small"/>
    <section class="footnotes --clear-child-margins">
        <h2 class="--visually-hidden">Footnotes</h2>
        <ol>
    <li id="fn1" class="footnote-item"><p>I emphasize “can” because it is an <a href="https://en.wikipedia.org/wiki/Edge_case">edge case (Wikipedia)</a>: a statistically unlikely but possible event. Programmers need to be on the lookout and account for edge cases when possible. <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>Additional examples stepping through the <code>rollDie</code> function:</p>
<pre><code>1. Math.random()    // 0.4
2. Multiply by 6    // 2.4
3. Math.floor       // 2
4. Add one          // 3
Random number: 3

1. Math.random()    // 0.9
2. Multiply by 6    // 5.4
3. Math.floor       // 5
4. Add one          // 6
Random number: 6

1. Math.random()    // 0.642
2. Multiply by 6    // 3.8520000000000003
3. Math.floor       // 3
4. Add one          // 4
Random number: 4
</code></pre>
 <a href="#fnref2" class="footnote-backref">↩︎</a></li>
</ol>
</section>

        <hr class="small" />
        <section class="article__footer --clear-child-margins">
            <p>
                <a id="comment-link" href="mailto:sean@seanmcp.com?subject=Re: JS%20Basics:%20Generate%20a%20random%20number">Send a comment</a>
            </p>
            
        </section>
    </div>
</article>
<section class="bio">
    <div class="container --content --clear-child-margins">
        <hr class="small"/>
        <h2>About<span class="--visually-hidden">&nbsp;the author</span>
        </h2>
        <div class="bio__content">
            <img alt="" loading="lazy" src="/img/seanmcp_thumbnail.png"/>
            <p>
                
                    Sean McPherson is a software engineer for Khan Academy who specializes in web and mobile app development. He lives with
                    his wife, sons, and dog in Pittsburgh, PA.
                
                (SDG)</p>
        </div>
    </div>
</section>
        </main>

        <footer class="site-footer">
    <div class="container --content --clear-child-margins">
        <div>
            <b>SeanMcP.com</b><br>
            <small>Copyright © 2018-2022 Sean McPherson (SDG)</small>
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr;">
            <div>
                <h2>Navigation</h2>
                
                
                <nav aria-label="secondary" ><a  href="/about/">About</a><a  href="/articles/">Articles</a><a  href="/tags/">Tags</a><a  href="/talks/">Talks</a><a  href="/notes/">Notes</a><a  href="/bookshelf/">Bookshelf</a><a  href="/soccer/">Soccer</a><a  href="/feed/feed.xml">Feed</a></nav>
            </div>
            <div>
                <h2>Social</h2>
                
                
                <nav aria-label="social" ><a  href="https://github.com/seanmcp">GitHub</a><a  href="https://twitter.com/snmcp">Twitter</a><a  href="https://smcp.dev/yt">YouTube</a><a  href="https://linkedin.com/in/seanmcp">LinkedIn</a></nav>
            </div>
        </div>
    </div>
</footer>
        <!-- Current page: /articles/js-generate-random-number/ -->
    </body>
    <script src="/js/scroll-progress.js"></script>
    <script src="/js/theme-toggle.js"></script>
    <script src="/js/stars.js"></script>
    
</html>