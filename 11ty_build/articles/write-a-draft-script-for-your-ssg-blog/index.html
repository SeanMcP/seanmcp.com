<!doctype html>
<html lang="en" >
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        





<title>Write a draft script for your SSG blog - SeanMcP.com</title>
<meta property="og:site_name" content="SeanMcP.com" />
<meta property="og:title" content="Write a draft script for your SSG blog" />
<meta name="twitter:title" content="Write a draft script for your SSG blog">

<meta name="description" content="Easily spin up a new article when you don&#39;t have a CMS">
<meta property="og:description" content="Easily spin up a new article when you don&#39;t have a CMS" />
<meta name="twitter:description" content="Easily spin up a new article when you don&#39;t have a CMS">

<meta property="og:image" content="https://seanmcp.com/img/seanmcp.favicon.png" />
<meta name="twitter:image" content="https://seanmcp.com/img/seanmcp.favicon.png">


<meta property="og:type" content="website" />
<meta property="og:url" content="https://seanmcp.com/articles/write-a-draft-script-for-your-ssg-blog/" />


<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@snmcp">
        <link rel="stylesheet" href="/css/index.css">
        <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Sean McPherson">
        <link rel="alternate" href="feed/notes.xml" type="application/atom+xml" title="Notes on Sean McPherson">
        
            <link rel="shortcut icon" href="/img/seanmcp.favicon.png" type="image/png">
        
        
        <style>:root{--dark:hsl(216, 5%, 10%);--light:hsl(216, 5%, 97%);--accent:hsl(188, 100%, 42%);--primary:hsl(216, 85%, 34%);--background:var(--light);--off-background:hsla(0, 0%, 10%, 20%);--text-color:var(--dark);--anchor-color:var(--primary);--note-anchor-color:var(--accent);--block-code-background:hsla(0, 0%, 0%, 90%);--inline-code-background:hsla(0, 0%, 0%, 7.5%);--inline-code-color:hsla(0, 0%, 0%, 75%);--body-font:-apple-system,BlinkMacSystemFont,Helvetica,Arial,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;--mono-font:Menlo,Monaco,Consolas,"Andale Mono WT","Andale Mono","Lucida Console","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L","Courier New",Courier,monospace}html[data-page-flavor=soccer]{--accent:hsl(100, 50%, 50%);--primary:hsl(120, 50%, 30%)}body{--scroll-progress-height:6px;background:var(--background);color:var(--text-color);font-family:var(--body-font);margin:0;padding:0;padding-top:var(--scroll-progress-height);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body[data-theme=dark]{--background:var(--dark);--off-background:hsla(216, 5%, 95%, 15%);--text-color:var(--light);--anchor-color:var(--accent);--inline-code-background:hsla(0, 0%, 0%, 50%);--inline-code-color:hsla(0, 0%, 100%, 85%);--note-anchor-color:var(--primary)}.container{padding:1rem;margin:0 auto}.site-header .container{align-items:center;display:flex;justify-content:space-between}.site-header nav{align-items:center;display:flex;flex-wrap:wrap}.site-header nav a:not(:last-of-type){margin-right:1rem}:is(.stars-toggle,.theme-toggle):hover{cursor:pointer;outline:0!important}:is(.theme-toggle,.stars-toggle):focus-within{outline:3px solid var(--anchor-color);outline-offset:3px}.theme-toggle:hover span::before{transform:translateX(-2px)}.theme-toggle:hover span::after{transform:translateX(2px)}.theme-toggle input+span{--size:1.25em;display:inline-block;position:relative;width:var(--size);height:var(--size)}.theme-toggle input+span::after,.theme-toggle input+span::before{border:1px solid var(--text-color);content:"";display:inline-block;height:calc(var(--size) * 2 / 3);position:relative;transition:transform .1s ease-in-out;width:calc(var(--size) * 2 / 3)}.theme-toggle input+span::before{background-color:var(--text-color)}.theme-toggle input+span::after{background:var(--background);position:absolute;bottom:0;right:0}.theme-toggle input:checked+span::before{background-color:var(--background)}.theme-toggle input:checked+span::after{background-color:var(--text-color);z-index:-1}.stars-toggle{align-items:center;display:flex;justify-content:center}.stars-toggle svg{display:inline-block}.stars-toggle path{transition:transform .2s ease-in-out;transform-origin:50% 50%}.stars-toggle:hover path{transform:rotate(72deg)}.stars-toggle input:checked+svg{fill:currentColor}[data-star]{cursor:pointer;font-size:1.5rem;position:absolute;transform:translate(-50%,-50%)}[data-star]:after{content:"‚≠êÔ∏è";display:inline-block}@media screen and (min-width:500px){.container{padding:2rem}.container.--content{max-width:70ch}}.breadcrumbs ol{display:flex;list-style:none;margin:0;padding:0}.breadcrumbs li+li::before{color:var(--off-background);content:"/";display:inline-block;height:1rem;margin:0 .5rem}.skip-link{background-color:var(--primary);color:#fff!important;font-weight:700;position:fixed;padding:1rem;z-index:9999}.skip-link:not(:focus){right:200%}.skip-link:focus{left:0;outline:2px dotted white}#scroll-progress{--height:var(--scroll-progress-height);background:linear-gradient(to right,var(--accent),var(--primary));position:fixed;height:var(--height);left:0;right:0;top:0;z-index:1000}#scroll-progress span{--width:var(--height);border-right:var(--width) solid var(--background);bottom:0;left:calc(var(--width)/ -2);position:absolute;top:0;width:0%}</style>
        
        
            <link rel="stylesheet" href="/css/prism.css">
        
            <link rel="stylesheet" href="/css/markdown-it.css">
        
        
        
    </head>
    <body data-page-type="article" >
        <div id="scroll-progress"><span></span></div>
        <a class="skip-link" href="#main">Skip to main content</a>
        <header class="site-header">
    <div class="container --content">
        <a aria-label="Sean McP" class="logo-link" href="/"></a>
        <div style="align-items:center;display:flex;">
            
            
            
            <nav aria-label="primary" id="desktop-nav"><a  href="/articles/">Articles</a><a  href="/about/">About</a></nav>
            <label class="theme-toggle" style="margin-left:1.25rem">
                <span class="--visually-hidden">Toggle theme</span>
                <input class="--visually-hidden" type="checkbox" id="dark-mode"/>
                <span></span>
            </label>
            <label class="stars-toggle" style="margin-left:1.25rem">
                <span class="--visually-hidden">Toggle stars</span>
                <input class="--visually-hidden" type="checkbox" id="stars-checkbox" checked/>
                <svg width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12 1.34175L14.6395 7.91471L14.7565 8.20601L15.0697 8.22724L22.1366 8.70642L16.701 13.2479L16.4601 13.4492L16.5367
                            13.7536L18.2648 20.6227L12.2659 16.8565L12 16.6896L11.7341 16.8565L5.73524 20.6227L7.46331 13.7536L7.5399 13.4492L7.29901
                            13.2479L1.8634 8.70642L8.93032 8.22724L9.2435 8.20601L9.36048 7.91471L12 1.34175Z"
                        stroke="currentColor"/>
                </svg>
            </label>
        </div>
    </div>
</header>

        <main id="main" role="main" class="main main--article">
            

<article class="article">
    <div class="container --content">
        
            <time class="date" datetime="2020-01-31">Jan 31, 2020</time>
        
        <h1 style="margin-top:1rem;">Write a draft script for your SSG blog</h1>
        
            
            <ul class="--horizontal-list">
    
            <li>
                <a href="/tags/bash/" class="tag tag--bash">Bash</a>
            </li>
            <li>
                <a href="/tags/node-js/" class="tag tag--node-js">Node.js</a>
            </li>
            <li>
                <a href="/tags/blogging/" class="tag tag--blogging">Blogging</a>
            </li>
            <li>
                <a href="/tags/static-site-generator/" class="tag tag--static-site-generator">Static-site Generator</a>
            </li>
            <li>
                <a href="/tags/wip/" class="tag tag--wip">WIP</a>
            </li>
</ul>
        
        <hr class="small"/>
        
            <section class="wip-block --clear-child-margins">
                <p><span aria-hidden="true" class="eleventy-emoji" role="img">üëã</span>&nbsp; Hey there! This article is being published a "work in progress," which means that it is not
                    done. So please excuse the rough edges!</p>
                <p>I may or may not come back and finish this article. Regardless, I hope that it's helpful in its current state.</p>
            </section>
        
        <p>This site is powered by Eleventy, a simple static-site generator. All of the pages and articles exists as markdown files that are converted into HTML files via Nunjuck templates at build time.</p>
<p>For a blogging platform, it‚Äôs pretty neat. I enjoy being able to run the whole site from the comfort of my text editor and the command line (with a little help from Netlify for continual deployments).</p>
<p>The secret sauce behind markdown-based sites is the frontmatter: specially formatted content at the top of a markdown file that is read by the generator. Here‚Äôs what the frontmatter for a typical article looks like:</p>
<pre class="language-markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><br><span class="token front-matter yaml language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> Add event listener for class change<br><span class="token key atrule">description</span><span class="token punctuation">:</span> How to create a custom event listener for class names using the MutationObserver API<br><span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2019-05-10</span><br><span class="token key atrule">layout</span><span class="token punctuation">:</span> article<br><span class="token key atrule">tags</span><span class="token punctuation">:</span><br>    <span class="token punctuation">-</span> JavaScript<br>    <span class="token punctuation">-</span> Web</span><br><span class="token punctuation">---</span></span><br><br><span class="token comment">&lt;!-- Start writing your article here --></span></code></pre>
<p>When I want to write a new article, I need to make sure I have all of those fields populated in a particular way in order for Eleventy to generate the page correctly.</p>
<p>Formatting and required fields are not something that I care to remember, so I wanted to develop an easier method for generating a draft for this blog. This is my journey.</p>
<h2 id="setup" tabindex="-1">Setup</h2>
<p>Most static-site generators will have a directory for you to store some files that are excluded from the build process. For Eleventy, that default directory is <code>_includes/</code>. I added a subdirectory for <code>templates/</code> and added an <code>article.md</code>. All it contains is the bare-bones frontmatter for a new article:</p>
<pre class="language-markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><br><span class="token front-matter yaml language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span><br><span class="token key atrule">description</span><span class="token punctuation">:</span> <br><span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2020-01-01</span><br><span class="token key atrule">layout</span><span class="token punctuation">:</span> article<br><span class="token key atrule">tags</span><span class="token punctuation">:</span><br>    <span class="token punctuation">-</span> SAMPLE_TAG</span><br><span class="token punctuation">---</span></span></code></pre>
<p>I hard coded the date because I have a hard time remembering the YYYY-MM-DD format. It would be cool for the script to generate that for me.</p>
<h2 id="solution-1%3A-bash-script" tabindex="-1">Solution 1: Bash script</h2>
<p>Now that I have a template to reference, all I really need to do is write a simple script to copy that file to the <code>articles/</code> directory. I added the following code to a <code>create-draft.sh</code> file in the root directory:</p>
<pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/usr/bin/env bash</span><br><br><span class="token assign-left variable">title</span><span class="token operator">=</span>draft<br><br><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$1</span>"</span> <span class="token punctuation">]</span><br><span class="token keyword">then</span><br>    <span class="token assign-left variable">title</span><span class="token operator">=</span><span class="token variable">$1</span><br><span class="token keyword">fi</span><br><br><span class="token function">cp</span> <span class="token string">"_includes/templates/article.md"</span> <span class="token string">"articles/_<span class="token variable">$title</span>.md"</span></code></pre>
<p>This script declares a variable <code>title</code> and sets the value to the string <code>&quot;draft&quot;</code>. Then it checks to see if another argument is passed. If so, then it reassigns <code>title</code> to that value.</p>
<p>Then it copies the article template to the <code>articles/</code> directory with the filename title.</p>
<p><strong>Note</strong>: I am prepending an underscore to the name of the file because I have configured Eleventy to ignore markdown files that begin with an underscore from the build. <a href="https://github.com/11ty/eleventy/issues/188#issuecomment-488350222">The solution got Eleventy‚Äôs stamp of approval.</a></p>
<p>I added a <code>draft</code> script to packages.json:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>    <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>        <span class="token property">"draft"</span><span class="token operator">:</span> <span class="token string">"sh create-draft.sh"</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>Once that was in place, I could call my script by running:</p>
<pre><code>npm run draft my-new-article
</code></pre>
<p>This worked, but it was pretty simple. I needed to remember to use kebab case for the title of the article so that the file name would work. It didn‚Äôt add the title to the copied file, nor set a date.</p>
<p>It served me well for a while, but eventually time came for a change.</p>
<h2 id="solution-2%3A-node.js-script" tabindex="-1">Solution 2: node.js script</h2>
<p>To be fair, the original bash script could have been improved to meet all of my needs. But I‚Äôm not as comfortable with Bash as I am with JavaScript, and I jump at every opportunity to work in node.js.</p>

        <hr class="small" />
        <section class="article__footer --clear-child-margins">
            <p>
                <a id="comment-link" href="mailto:sean@seanmcp.com?subject=Re: Write%20a%20draft%20script%20for%20your%20SSG%20blog">Send a comment</a>
            </p>
            
        </section>
    </div>
</article>
<section class="bio">
    <div class="container --content --clear-child-margins">
        <hr class="small"/>
        <h2>About<span class="--visually-hidden">&nbsp;the author</span>
        </h2>
        <div class="bio__content">
            <img alt="" loading="lazy" src="/img/seanmcp_thumbnail.png"/>
            <p>
                
                    Sean McPherson is a software engineer for Khan Academy who specializes in web and mobile app development. He lives with
                    his wife, sons, and dog in Pittsburgh, PA.
                
                (SDG)</p>
        </div>
    </div>
</section>
        </main>

        <footer class="site-footer">
    <div class="container --content --clear-child-margins">
        <div>
            <b>SeanMcP.com</b><br>
            <small>Copyright ¬© 2018-2022 Sean McPherson (SDG)</small>
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr;">
            <div>
                <h2>Navigation</h2>
                
                
                <nav aria-label="secondary" ><a  href="/about/">About</a><a  href="/articles/">Articles</a><a  href="/tags/">Tags</a><a  href="/talks/">Talks</a><a  href="/notes/">Notes</a><a  href="/bookshelf/">Bookshelf</a><a  href="/soccer/">Soccer</a><a  href="/feed/feed.xml">Feed</a></nav>
            </div>
            <div>
                <h2>Social</h2>
                
                
                <nav aria-label="social" ><a  href="https://github.com/seanmcp">GitHub</a><a  href="https://twitter.com/snmcp">Twitter</a><a  href="https://smcp.dev/yt">YouTube</a><a  href="https://linkedin.com/in/seanmcp">LinkedIn</a></nav>
            </div>
        </div>
    </div>
</footer>
        <!-- Current page: /articles/write-a-draft-script-for-your-ssg-blog/ -->
    </body>
    <script src="/js/scroll-progress.js"></script>
    <script src="/js/theme-toggle.js"></script>
    <script src="/js/stars.js"></script>
    
</html>