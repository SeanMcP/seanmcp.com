<!doctype html>
<html lang="en" >
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        





<title>What default parameters do (and don&#39;t do) - SeanMcP.com</title>
<meta property="og:site_name" content="SeanMcP.com" />
<meta property="og:title" content="What default parameters do (and don&#39;t do)" />
<meta name="twitter:title" content="What default parameters do (and don&#39;t do)">

<meta name="description" content="Correcting my mental model">
<meta property="og:description" content="Correcting my mental model" />
<meta name="twitter:description" content="Correcting my mental model">

<meta property="og:image" content="https://seanmcp.com/img/seanmcp.favicon.png" />
<meta name="twitter:image" content="https://seanmcp.com/img/seanmcp.favicon.png">


<meta property="og:type" content="website" />
<meta property="og:url" content="https://seanmcp.com/articles/what-default-parameters-do-and-dont-do/" />


<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@snmcp">
        <link rel="stylesheet" href="/css/index.css">
        <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Sean McPherson">
        <link rel="alternate" href="feed/notes.xml" type="application/atom+xml" title="Notes on Sean McPherson">
        
            <link rel="shortcut icon" href="/img/seanmcp.favicon.png" type="image/png">
        
        
        <style>:root{--dark:hsl(216, 5%, 10%);--light:hsl(216, 5%, 97%);--accent:hsl(188, 100%, 42%);--primary:hsl(216, 85%, 34%);--background:var(--light);--off-background:hsla(0, 0%, 10%, 20%);--text-color:var(--dark);--anchor-color:var(--primary);--note-anchor-color:var(--accent);--block-code-background:hsla(0, 0%, 0%, 90%);--inline-code-background:hsla(0, 0%, 0%, 7.5%);--inline-code-color:hsla(0, 0%, 0%, 75%);--body-font:-apple-system,BlinkMacSystemFont,Helvetica,Arial,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;--mono-font:Menlo,Monaco,Consolas,"Andale Mono WT","Andale Mono","Lucida Console","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L","Courier New",Courier,monospace}html[data-page-flavor=soccer]{--accent:hsl(100, 50%, 50%);--primary:hsl(120, 50%, 30%)}body{--scroll-progress-height:6px;background:var(--background);color:var(--text-color);font-family:var(--body-font);margin:0;padding:0;padding-top:var(--scroll-progress-height);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body[data-theme=dark]{--background:var(--dark);--off-background:hsla(216, 5%, 95%, 15%);--text-color:var(--light);--anchor-color:var(--accent);--inline-code-background:hsla(0, 0%, 0%, 50%);--inline-code-color:hsla(0, 0%, 100%, 85%);--note-anchor-color:var(--primary)}.container{padding:1rem;margin:0 auto}.site-header .container{align-items:center;display:flex;justify-content:space-between}.site-header nav{align-items:center;display:flex;flex-wrap:wrap}.site-header nav a:not(:last-of-type){margin-right:1rem}:is(.stars-toggle,.theme-toggle):hover{cursor:pointer;outline:0!important}:is(.theme-toggle,.stars-toggle):focus-within{outline:3px solid var(--anchor-color);outline-offset:3px}.theme-toggle:hover span::before{transform:translateX(-2px)}.theme-toggle:hover span::after{transform:translateX(2px)}.theme-toggle input+span{--size:1.25em;display:inline-block;position:relative;width:var(--size);height:var(--size)}.theme-toggle input+span::after,.theme-toggle input+span::before{border:1px solid var(--text-color);content:"";display:inline-block;height:calc(var(--size) * 2 / 3);position:relative;transition:transform .1s ease-in-out;width:calc(var(--size) * 2 / 3)}.theme-toggle input+span::before{background-color:var(--text-color)}.theme-toggle input+span::after{background:var(--background);position:absolute;bottom:0;right:0}.theme-toggle input:checked+span::before{background-color:var(--background)}.theme-toggle input:checked+span::after{background-color:var(--text-color);z-index:-1}.stars-toggle{align-items:center;display:flex;justify-content:center}.stars-toggle svg{display:inline-block}.stars-toggle path{transition:transform .2s ease-in-out;transform-origin:50% 50%}.stars-toggle:hover path{transform:rotate(72deg)}.stars-toggle input:checked+svg{fill:currentColor}[data-star]{cursor:pointer;font-size:1.5rem;position:absolute;transform:translate(-50%,-50%)}[data-star]:after{content:"⭐️";display:inline-block}@media screen and (min-width:500px){.container{padding:2rem}.container.--content{max-width:70ch}}.breadcrumbs ol{display:flex;list-style:none;margin:0;padding:0}.breadcrumbs li+li::before{color:var(--off-background);content:"/";display:inline-block;height:1rem;margin:0 .5rem}.skip-link{background-color:var(--primary);color:#fff!important;font-weight:700;position:fixed;padding:1rem;z-index:9999}.skip-link:not(:focus){right:200%}.skip-link:focus{left:0;outline:2px dotted white}#scroll-progress{--height:var(--scroll-progress-height);background:linear-gradient(to right,var(--accent),var(--primary));position:fixed;height:var(--height);left:0;right:0;top:0;z-index:1000}#scroll-progress span{--width:var(--height);border-right:var(--width) solid var(--background);bottom:0;left:calc(var(--width)/ -2);position:absolute;top:0;width:0%}</style>
        
        
            <link rel="stylesheet" href="/css/prism.css">
        
            <link rel="stylesheet" href="/css/markdown-it.css">
        
        
        
    </head>
    <body data-page-type="article" >
        <div id="scroll-progress"><span></span></div>
        <a class="skip-link" href="#main">Skip to main content</a>
        <header class="site-header">
    <div class="container --content">
        <a aria-label="Sean McP" class="logo-link" href="/"></a>
        <div style="align-items:center;display:flex;">
            
            
            
            <nav aria-label="primary" id="desktop-nav"><a  href="/articles/">Articles</a><a  href="/about/">About</a></nav>
            <label class="theme-toggle" style="margin-left:1.25rem">
                <span class="--visually-hidden">Toggle theme</span>
                <input class="--visually-hidden" type="checkbox" id="dark-mode"/>
                <span></span>
            </label>
            <label class="stars-toggle" style="margin-left:1.25rem">
                <span class="--visually-hidden">Toggle stars</span>
                <input class="--visually-hidden" type="checkbox" id="stars-checkbox" checked/>
                <svg width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12 1.34175L14.6395 7.91471L14.7565 8.20601L15.0697 8.22724L22.1366 8.70642L16.701 13.2479L16.4601 13.4492L16.5367
                            13.7536L18.2648 20.6227L12.2659 16.8565L12 16.6896L11.7341 16.8565L5.73524 20.6227L7.46331 13.7536L7.5399 13.4492L7.29901
                            13.2479L1.8634 8.70642L8.93032 8.22724L9.2435 8.20601L9.36048 7.91471L12 1.34175Z"
                        stroke="currentColor"/>
                </svg>
            </label>
        </div>
    </div>
</header>

        <main id="main" role="main" class="main main--article">
            

<article class="article">
    <div class="container --content">
        
            <time class="date" datetime="2020-01-13">Jan 13, 2020</time>
        
        <h1 style="margin-top:1rem;">What default parameters do (and don&#39;t do)</h1>
        
            
            <ul class="--horizontal-list">
    
            <li>
                <a href="/tags/javascript/" class="tag tag--javascript">JavaScript</a>
            </li>
</ul>
        
        <hr class="small"/>
        
        <p>Default parameters are a handy feature in JavaScript. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters">MDN has a more thorough explanation</a>, but imagine a function that greets a user:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">greetUser</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><br><span class="token punctuation">}</span></code></pre>
<p>When we call our function and pass a name, we get the expected log:</p>
<pre class="language-js"><code class="language-js"><span class="token function">greetUser</span><span class="token punctuation">(</span><span class="token string">'Abby'</span><span class="token punctuation">)</span><br><span class="token comment">// Hello Abby!</span></code></pre>
<p>But what about when we don’t pass a name? <strong>Quiz time</strong>: What is going to log?</p>
<pre class="language-js"><code class="language-js"><span class="token function">greetUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token comment">// Hello undefined!</span></code></pre>
<p>Is that what you expected? Since we passed no argument, the <code>name</code> parameter is <code>undefined</code>.</p>
<p>JavaScript — ever the helpful friend — sees that we want to include that value in a string, so it <a href="https://developer.mozilla.org/en-US/docs/Glossary/Type_coercion">coerces it into the correct type</a>, and then logs it.</p>
<p>You probably don’t want your function to return <code>Hello undefined!</code>, so let’s try a default parameter.</p>
<h2 id="what-default-parameters-do" tabindex="-1">What default parameters do</h2>
<p>Add the following to the declaration line of <code>greetUser()</code>:</p>
<pre class="language-js"><code class="language-js"><mark class="highlight-line highlight-line-active"><span class="token keyword">function</span> <span class="token function">greetUser</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"there"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></mark><br><span class="highlight-line">    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>Now we’re saying to our function, “if you don’t receive an argument, set the value of the <code>name</code> parameter to be <code>&quot;there&quot;</code>.” When we call our function and pass an argument, we get the same result:</p>
<pre class="language-js"><code class="language-js"><span class="token function">greetUser</span><span class="token punctuation">(</span><span class="token string">'Abby'</span><span class="token punctuation">)</span><br><span class="token comment">// Hello Abby!</span></code></pre>
<p>However, when we call this updated function without passing an argument, the default parameter kicks in:</p>
<pre class="language-js"><code class="language-js"><span class="token function">greetUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token comment">// Hello there!</span></code></pre>
<p>Bingo! Now if our function is called without an argument, then the resulting log still makes sense.</p>
<p>In this situation, the default parameter is working as a fallback value. This is probably the most common use case. But you will also find default parameters useful to reduce existential checking.</p>
<h3 id="reduce-checks" tabindex="-1">Reduce checks</h3>
<p>Imagine a user object with a <code>name</code> key that we want to log. In order to update our original function to handle this use case, I might do something like this:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">greetUser</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">&amp;&amp;</span> user<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello there!'</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>You can imagine the complexity of this dive check growing with the size of the user object. Instead, we can save ourselves some trouble by defaulting that parameter to something that we can use right away:</p>
<pre class="language-js"><code class="language-js"><mark class="highlight-line highlight-line-active"><span class="token keyword">function</span> <span class="token function">greetUser</span><span class="token punctuation">(</span>user <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'there'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></mark><br><span class="highlight-line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>We set the default value of the <code>user</code> parameter to be an object with a <code>name</code> key that we could access.</p>
<p>I use this pattern often; default props make it easier to see what types and shapes of arguments that any given function or component is expecting.</p>
<h2 id="what-default-parameters-don%E2%80%99t-do" tabindex="-1">What default parameters don’t do</h2>
<p><strong>A parameter will only default to a given value if it the argument passed is <code>undefined</code></strong>. So either no argument is passed, or the function specifically receives <code>undefined</code> as an argument.</p>
<p>When I first learned about default parameters, I developed the wrong mental model — associating them with falsy values in JavaScript. My incorrect thinking went like this:</p>
<blockquote>
<p>When ever I pass an argument that evaluates to false, the default parameter will kick in and save me from errors!<br>
<br>— Sean, being wrong</p>
</blockquote>
<p>I ran into this problem at work when I expected a function to return the default parameter when passed a <code>null</code> argument.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">favoriteAnimal</span><span class="token punctuation">(</span>animal <span class="token operator">=</span> <span class="token string">"wolf"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Favorite animal:'</span><span class="token punctuation">,</span> animal<span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><br><span class="token function">favoriteAnimal</span><span class="token punctuation">(</span><span class="token string">'manatee'</span><span class="token punctuation">)</span><br><span class="token comment">// Favorite animal: manatee</span><br><br><span class="token function">favoriteAnimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token comment">// Favorite animal: wolf</span><br><br><span class="token function">favoriteAnimal</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><br><span class="token comment">// Favorite animal: null</span></code></pre>
<p>That’s because <code>null</code> is a deliberately passed value (even if I didn’t know that I was deliberately passing it). Default parameters will only kick in if that argument is omitted or passed as <code>undefined</code>.</p>
<p>To state it plainly: <strong>falsy values do NOT become default parameters</strong>. It only works for <code>undefined</code>.</p>
<p>So the above code is worked as designed, even if it’s not what I expected. Time to update that mental model!</p>
<p>Hopefully that clears up the mystery of default parameters for you. Happy coding!</p>

        <hr class="small" />
        <section class="article__footer --clear-child-margins">
            <p>
                <a id="comment-link" href="mailto:sean@seanmcp.com?subject=Re: What%20default%20parameters%20do%20(and%20don&#39;t%20do)">Send a comment</a>
            </p>
            
                <p>
                    <a href="https://esv.org/Micah%207:8" rel="noopener noreferrer" target="_blank">Micah 7:8</a>
                </p>
            
        </section>
    </div>
</article>
<section class="bio">
    <div class="container --content --clear-child-margins">
        <hr class="small"/>
        <h2>About<span class="--visually-hidden">&nbsp;the author</span>
        </h2>
        <div class="bio__content">
            <img alt="" loading="lazy" src="/img/seanmcp_thumbnail.png"/>
            <p>
                
                    Sean McPherson is a software engineer for Khan Academy who specializes in web and mobile app development. He lives with
                    his wife, sons, and dog in Pittsburgh, PA.
                
                (SDG)</p>
        </div>
    </div>
</section>
        </main>

        <footer class="site-footer">
    <div class="container --content --clear-child-margins">
        <div>
            <b>SeanMcP.com</b><br>
            <small>Copyright © 2018-2022 Sean McPherson (SDG)</small>
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr;">
            <div>
                <h2>Navigation</h2>
                
                
                <nav aria-label="secondary" ><a  href="/about/">About</a><a  href="/articles/">Articles</a><a  href="/tags/">Tags</a><a  href="/talks/">Talks</a><a  href="/notes/">Notes</a><a  href="/bookshelf/">Bookshelf</a><a  href="/soccer/">Soccer</a><a  href="/feed/feed.xml">Feed</a></nav>
            </div>
            <div>
                <h2>Social</h2>
                
                
                <nav aria-label="social" ><a  href="https://github.com/seanmcp">GitHub</a><a  href="https://twitter.com/snmcp">Twitter</a><a  href="https://smcp.dev/yt">YouTube</a><a  href="https://linkedin.com/in/seanmcp">LinkedIn</a></nav>
            </div>
        </div>
    </div>
</footer>
        <!-- Current page: /articles/what-default-parameters-do-and-dont-do/ -->
    </body>
    <script src="/js/scroll-progress.js"></script>
    <script src="/js/theme-toggle.js"></script>
    <script src="/js/stars.js"></script>
    
</html>