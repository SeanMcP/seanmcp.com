<!doctype html>
<html lang="en" >
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        





<title>How to create a render prop component - SeanMcP.com</title>
<meta property="og:site_name" content="SeanMcP.com" />
<meta property="og:title" content="How to create a render prop component" />
<meta name="twitter:title" content="How to create a render prop component">

<meta name="description" content="Render props are a popular technique in modern React, but they can be tricky. Here is a brief explanation and guide to creating your own.">
<meta property="og:description" content="Render props are a popular technique in modern React, but they can be tricky. Here is a brief explanation and guide to creating your own." />
<meta name="twitter:description" content="Render props are a popular technique in modern React, but they can be tricky. Here is a brief explanation and guide to creating your own.">

<meta property="og:image" content="https://seanmcp.com/img/seanmcp.favicon.png" />
<meta name="twitter:image" content="https://seanmcp.com/img/seanmcp.favicon.png">


<meta property="og:type" content="website" />
<meta property="og:url" content="https://seanmcp.com/articles/create-a-render-prop-component/" />


<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@snmcp">
        <link rel="stylesheet" href="/css/index.css">
        <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Sean McPherson">
        <link rel="alternate" href="feed/notes.xml" type="application/atom+xml" title="Notes on Sean McPherson">
        
            <link rel="shortcut icon" href="/img/seanmcp.favicon.png" type="image/png">
        
        
        <style>:root{--dark:hsl(216, 5%, 10%);--light:hsl(216, 5%, 97%);--accent:hsl(188, 100%, 42%);--primary:hsl(216, 85%, 34%);--background:var(--light);--off-background:hsla(0, 0%, 10%, 20%);--text-color:var(--dark);--anchor-color:var(--primary);--note-anchor-color:var(--accent);--block-code-background:hsla(0, 0%, 0%, 90%);--inline-code-background:hsla(0, 0%, 0%, 7.5%);--inline-code-color:hsla(0, 0%, 0%, 75%);--body-font:-apple-system,BlinkMacSystemFont,Helvetica,Arial,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;--mono-font:Menlo,Monaco,Consolas,"Andale Mono WT","Andale Mono","Lucida Console","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L","Courier New",Courier,monospace}html[data-page-flavor=soccer]{--accent:hsl(100, 50%, 50%);--primary:hsl(120, 50%, 30%)}body{--scroll-progress-height:6px;background:var(--background);color:var(--text-color);font-family:var(--body-font);margin:0;padding:0;padding-top:var(--scroll-progress-height);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body[data-theme=dark]{--background:var(--dark);--off-background:hsla(216, 5%, 95%, 15%);--text-color:var(--light);--anchor-color:var(--accent);--inline-code-background:hsla(0, 0%, 0%, 50%);--inline-code-color:hsla(0, 0%, 100%, 85%);--note-anchor-color:var(--primary)}.container{padding:1rem;margin:0 auto}.site-header .container{align-items:center;display:flex;justify-content:space-between}.site-header nav{align-items:center;display:flex;flex-wrap:wrap}.site-header nav a:not(:last-of-type){margin-right:1rem}:is(.stars-toggle,.theme-toggle):hover{cursor:pointer;outline:0!important}:is(.theme-toggle,.stars-toggle):focus-within{outline:3px solid var(--anchor-color);outline-offset:3px}.theme-toggle:hover span::before{transform:translateX(-2px)}.theme-toggle:hover span::after{transform:translateX(2px)}.theme-toggle input+span{--size:1.25em;display:inline-block;position:relative;width:var(--size);height:var(--size)}.theme-toggle input+span::after,.theme-toggle input+span::before{border:1px solid var(--text-color);content:"";display:inline-block;height:calc(var(--size) * 2 / 3);position:relative;transition:transform .1s ease-in-out;width:calc(var(--size) * 2 / 3)}.theme-toggle input+span::before{background-color:var(--text-color)}.theme-toggle input+span::after{background:var(--background);position:absolute;bottom:0;right:0}.theme-toggle input:checked+span::before{background-color:var(--background)}.theme-toggle input:checked+span::after{background-color:var(--text-color);z-index:-1}.stars-toggle{align-items:center;display:flex;justify-content:center}.stars-toggle svg{display:inline-block}.stars-toggle path{transition:transform .2s ease-in-out;transform-origin:50% 50%}.stars-toggle:hover path{transform:rotate(72deg)}.stars-toggle input:checked+svg{fill:currentColor}[data-star]{cursor:pointer;font-size:1.5rem;position:absolute;transform:translate(-50%,-50%)}[data-star]:after{content:"‚≠êÔ∏è";display:inline-block}@media screen and (min-width:500px){.container{padding:2rem}.container.--content{max-width:70ch}}.breadcrumbs ol{display:flex;list-style:none;margin:0;padding:0}.breadcrumbs li+li::before{color:var(--off-background);content:"/";display:inline-block;height:1rem;margin:0 .5rem}.skip-link{background-color:var(--primary);color:#fff!important;font-weight:700;position:fixed;padding:1rem;z-index:9999}.skip-link:not(:focus){right:200%}.skip-link:focus{left:0;outline:2px dotted white}#scroll-progress{--height:var(--scroll-progress-height);background:linear-gradient(to right,var(--accent),var(--primary));position:fixed;height:var(--height);left:0;right:0;top:0;z-index:1000}#scroll-progress span{--width:var(--height);border-right:var(--width) solid var(--background);bottom:0;left:calc(var(--width)/ -2);position:absolute;top:0;width:0%}</style>
        
        
            <link rel="stylesheet" href="/css/prism.css">
        
            <link rel="stylesheet" href="/css/markdown-it.css">
        
        
        
    </head>
    <body data-page-type="article" >
        <div id="scroll-progress"><span></span></div>
        <a class="skip-link" href="#main">Skip to main content</a>
        <header class="site-header">
    <div class="container --content">
        <a aria-label="Sean McP" class="logo-link" href="/"></a>
        <div style="align-items:center;display:flex;">
            
            
            
            <nav aria-label="primary" id="desktop-nav"><a  href="/articles/">Articles</a><a  href="/about/">About</a></nav>
            <label class="theme-toggle" style="margin-left:1.25rem">
                <span class="--visually-hidden">Toggle theme</span>
                <input class="--visually-hidden" type="checkbox" id="dark-mode"/>
                <span></span>
            </label>
            <label class="stars-toggle" style="margin-left:1.25rem">
                <span class="--visually-hidden">Toggle stars</span>
                <input class="--visually-hidden" type="checkbox" id="stars-checkbox" checked/>
                <svg width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12 1.34175L14.6395 7.91471L14.7565 8.20601L15.0697 8.22724L22.1366 8.70642L16.701 13.2479L16.4601 13.4492L16.5367
                            13.7536L18.2648 20.6227L12.2659 16.8565L12 16.6896L11.7341 16.8565L5.73524 20.6227L7.46331 13.7536L7.5399 13.4492L7.29901
                            13.2479L1.8634 8.70642L8.93032 8.22724L9.2435 8.20601L9.36048 7.91471L12 1.34175Z"
                        stroke="currentColor"/>
                </svg>
            </label>
        </div>
    </div>
</header>

        <main id="main" role="main" class="main main--article">
            

<article class="article">
    <div class="container --content">
        
            <time class="date" datetime="2018-10-09">Oct 9, 2018</time>
        
        <h1 style="margin-top:1rem;">How to create a render prop component</h1>
        
            
            <ul class="--horizontal-list">
    
            <li>
                <a href="/tags/react/" class="tag tag--react">React</a>
            </li>
            <li>
                <a href="/tags/patterns/" class="tag tag--patterns">Patterns</a>
            </li>
</ul>
        
        <hr class="small"/>
        
        <p>It‚Äôs been a year since Michael Jackson published ‚ÄúUse a Render Prop!‚Äù, which encouraged using render props instead of higher order components (HOCs). Since then, ‚Äúrender props‚Äù has grown into a bigger and bigger buzzword in the React community.</p>
<p>If you are new to React or just new to the concept, the look of a render prop can be a little daunting. <a href="https://www.react-spring.io/docs/props/spring">Checkout this example from <code>react-spring</code></a>‚Äôs documentation:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Spring <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-spring'</span><br><br><span class="token operator">&lt;</span>Spring from<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">></span><br>  <span class="token punctuation">{</span><span class="token parameter">styles</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">}</span><span class="token operator">></span>i will fade <span class="token keyword">in</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">}</span> <span class="token comment">// &lt;-- Here</span><br><span class="token operator">&lt;</span><span class="token operator">/</span>Spring<span class="token operator">></span></code></pre>
<p>If that makes perfect sense to you, awesome üéâ! Skip this article and get back to coding. If not, don‚Äôt worry; I didn‚Äôt get it at first either. Stick around, and I‚Äôll attempt to break down render props and show you how to make your own.</p>
<hr>
<h2 id="background" tabindex="-1">Background</h2>
<h3 id="what-is-a-render-prop%3F" tabindex="-1">What is a render prop?</h3>
<p>At its core, render prop is ‚Äúa simple technique for sharing code between React components using a prop whose value is a function.‚Äù<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> Instead of passing a string or object, you pass a function as a prop.</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>Name<br>    renderProp<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">"Passing a function as a prop!"</span><span class="token punctuation">}</span><br><span class="token operator">/</span><span class="token operator">></span></code></pre>
<p>The code above won‚Äôt accomplish much‚Ää-‚Ääthe arrow function just returns a string‚Ää-‚Ääbut it introduces a new paradigm. What if, within <code>Name</code> we pass some data to our <code>props.renderProp</code> function?</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">Name</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'Sean'</span><br>    <span class="token keyword">return</span> props<span class="token punctuation">.</span><span class="token function">renderProp</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre>
<p>When <code>Name</code> renders, it calls <code>props.renderProp</code> and passes some data; in this case, a string with my name.</p>
<p>We have designed our <code>Name</code> component with the sole purpose of storing the <code>name</code> data and passing it on to the <code>props.renderProps</code> function. The is the secret sauce that makes render props so powerful.</p>
<p>Going back to the implementation of <code>Name</code>, the function I pass to <code>renderProp</code> can look for this data as a parameter:</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>Name<br>    renderProp<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><br><span class="token operator">/</span><span class="token operator">></span></code></pre>
<p>When <code>Nam</code>e is called, it creates variable <code>name</code> with the value ‚ÄòSean‚Äô, then calls the <code>props.renderProp</code> function and passes <code>name</code>. Finally, it returns a string that reads <code>Hello, my name is Sean!</code>.</p>
<p>But we aren‚Äôt just limited to strings; this is React! You can return JSX in your function to render new elements in the VirtualDOM:</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>Name<br>    renderProp<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>span<span class="token operator">></span>Hello<span class="token punctuation">,</span> my name is <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span><span class="token punctuation">}</span><br><span class="token operator">/</span><span class="token operator">></span></code></pre>
<p>That‚Äôs it! Render props provide us a method of passing props from a parent component to a child via function props. Using these same principles, we can create useful and reusable ‚Äúlogic‚Äù components to implement in any application.</p>
<p><em>Note: I called our prop <code>renderProp</code>, but there is nothing special about that name; you can use whatever name you want. I‚Äôll give you my recommendation for passing function props later on.</em></p>
<h3 id="what-does-render-props-replace%3F" tabindex="-1">What does render props replace?</h3>
<p>In most use cases, render props will replace HOCs. If we wanted to accomplish the above example with an HOC, we might use something like this:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">withName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">Component</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>Component name<span class="token operator">=</span><span class="token string">"Sean"</span> <span class="token operator">/</span><span class="token operator">></span></code></pre>
<p>Then our parent component would be passed to <code>withName</code>, usually during the export. Once that is done, we could access <code>props.name</code> and render our greeting:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><br>    <span class="token operator">&lt;</span>span<span class="token operator">></span>Hello<span class="token punctuation">,</span> my name is <span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span><br><span class="token punctuation">)</span><br><br><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withName</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span></code></pre>
<p>This works, and certainly has <a href="https://medium.com/r/?url=https%3A%2F%2Freact-redux.js.org%2Fdocs%2Fconnect-extracting-data-with-mapstatetoprops">its use cases</a>, but can introduce issues such as naming collisions. I recommend <a href="https://medium.com/r/?url=https%3A%2F%2Fcdb.reacttraining.com%2Fuse-a-render-prop-50de598f11ce">Jackson‚Äôs article for a more detailed dive into render props and HOCs</a>.</p>
<h2 id="how-to" tabindex="-1">How To</h2>
<p><em>Note: Facebook provides an <a href="https://medium.com/r/?url=https%3A%2F%2Freactjs.org%2Fdocs%2Frender-props.html">introduction to render props in their React documentation</a>. It is a useful resource, but their example was contrived and therefore difficult to reapply to new scenarios. Here I will provide a tried-and-true example that I have utilized in multiple projects.</em></p>
<h3 id="setting-up-our-app" tabindex="-1">Setting up our app</h3>
<p>Let‚Äôs imagine you‚Äôre creating an application with drawer menu. Most of the time the menu is hidden, but when you hit a toggle button, the menu opens. Within the menu, you want to have an accordion that reveals additional links when open. In order to accomplish this, you might do something like this:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span><br>    state <span class="token operator">=</span> <span class="token punctuation">{</span><br>        <span class="token literal-property property">menuIsOpen</span><span class="token operator">:</span> <span class="token boolean">false</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token punctuation">(</span><br>            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"app"</span><span class="token operator">></span><br>                <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>menuIsOpen<br>                    <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>Menu toggle<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>toggle<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">}</span><br>                <span class="token operator">&lt;</span>main<span class="token operator">></span><br>                    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>toggle<span class="token punctuation">}</span> type<span class="token operator">=</span><span class="token string">"button"</span><span class="token operator">></span><br>                        <span class="token constant">MENU</span><br>                    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><br>                <span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">></span><br>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><br>        <span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token function-variable function">toggle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><br>        <span class="token punctuation">{</span> <span class="token literal-property property">menuIsOpen</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>menuIsOpen <span class="token punctuation">}</span><br>    <span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre>
<p>We made <code>App</code> a stateful component and keep track of a boolean for the menu. Additionally, we added a <code>toggle</code> method to open and close the menu.</p>
<p>Now we need to create Menu:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Menu</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span><br>    state <span class="token operator">=</span> <span class="token punctuation">{</span><br>        <span class="token literal-property property">socialsIsOpen</span><span class="token operator">:</span> <span class="token boolean">false</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token punctuation">(</span><br>            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"menu"</span><span class="token operator">></span><br>                <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>toggle<span class="token punctuation">}</span> type<span class="token operator">=</span><span class="token string">"button"</span><span class="token operator">></span><br>                    <span class="token constant">CLOSE</span><br>                <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><br>                <span class="token operator">&lt;</span>h2<span class="token operator">></span>Menu<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span><br>                <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>toggle<span class="token punctuation">}</span> type<span class="token operator">=</span><span class="token string">"button"</span><span class="token operator">></span><br>                    <span class="token constant">SOCIALS</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>socialsIsOpen <span class="token operator">?</span> <span class="token string">'‚ñ¥'</span> <span class="token operator">:</span> <span class="token string">'‚ñæ'</span><span class="token punctuation">}</span><br>                <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><br>                <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>socialsIsOpen <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>Socials <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">}</span><br>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><br>        <span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token function-variable function">toggle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><br>        <span class="token punctuation">{</span> <span class="token literal-property property">socialsIsOpen</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>socialsIsOpen <span class="token punctuation">}</span><br>    <span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre>
<p>Look familiar? We <strong>reused the state from <code>App</code></strong> (üö© red flag no 1) so that we could keep track of whether or not to display our <code>Socials</code> component (just an unordered list of links). <code>Menu</code> needed to be toggled too, so we <strong>copy and pasted the method from <code>App</code></strong> (üö© red flag no. 2).</p>
<p>This works, but there are two main problems:</p>
<ol>
<li>üëé <strong>Not DRY</strong>: In order to achieve the same function in two different components, I needed to repeat myself by copying and pasting the state and toggle method.</li>
<li>üëé <strong>Not extensible</strong>: Imagine I want to add another toggle feature to my app. What do I need to do? Copy and paste the necessary state and method again, which compounds my problem.</li>
</ol>
<p>Fortunately, we can solve both of these problems easily with a simple render prop component.</p>
<h3 id="creating-a-render-prop" tabindex="-1">Creating a render prop</h3>
<p>The purpose of our render prop component will be to manage an open and closed state. It will also need a method to toggle the state like the examples above. Then it will take the state and method and pass it as arguments to a prop.</p>
<p>My preference for render props is to use a Component‚Äôs <code>children</code> prop. This allows us to utilize opening and closing tags‚Ää-‚Ääa familiar convention in React‚Ää-‚Ääand makes indentation a little more manageable.</p>
<p>Our render prop component looks like this:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><br><br><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Open</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span><br>    state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">isOpen</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><br><br>    <span class="token function-variable function">toggle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">isOpen</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isOpen <span class="token punctuation">}</span><span class="token punctuation">)</span><br><br>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">const</span> renderProps <span class="token operator">=</span> <span class="token punctuation">{</span><br>            <span class="token literal-property property">isOpen</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isOpen<span class="token punctuation">,</span><br>            <span class="token literal-property property">toggle</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>toggle<br>        <span class="token punctuation">}</span><br><br>        <span class="token keyword">return</span> <span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children <span class="token operator">===</span> <span class="token string">'function'</span><br>            <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span>renderProps<span class="token punctuation">)</span><br>            <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>Just like the previous examples, I am keeping track of an ‚Äúopen‚Äù state and toggling it with a method. Here I simplified the name of the boolean in the state to <code>isOpen</code> because our component doesn‚Äôt care what is and is not open. The only thing <code>Open</code> cares about is whether or not <code>isOpen</code> is true or false.</p>
<blockquote>
<p>Render props components do not care about presentational logic. Their sole purpose is to keep track of simple bits of data and pass it¬†on.</p>
</blockquote>
<p>The <code>toggle</code> method is the same as previous examples.</p>
<p>Within the <code>render</code> method, I create a <code>renderProps</code> object with which I can pass on the current value of <code>isOpen</code> and my <code>toggle</code> method.</p>
<p>Finally I do a quick <code>typeof</code> check while returning. If <code>this.props.children</code> is a function, as I expect, then it will pass <code>renderProps</code> as an argument. If not, then it will fail softly by simply returning <code>this.props.children</code>.</p>
<p>You can optionally do some type-checking to ensure that <code>children</code> is a function, but I chose not to add an additional library here.</p>
<h3 id="implementing-our-render-prop" tabindex="-1">Implementing our render prop</h3>
<p>Now that we have abstracted the open/close logic to <code>Open</code>, we can clean up our App component:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><br>    <span class="token operator">&lt;</span>Open<span class="token operator">></span><br>        <span class="token punctuation">{</span><span class="token parameter">openProps</span> <span class="token operator">=></span> <span class="token punctuation">(</span><br>            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"app"</span><span class="token operator">></span><br>                <span class="token punctuation">{</span>openProps<span class="token punctuation">.</span>isOpen<br>                    <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>NewMenu toggle<span class="token operator">=</span><span class="token punctuation">{</span>openProps<span class="token punctuation">.</span>toggle<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">}</span><br>                <span class="token operator">&lt;</span>main<span class="token operator">></span><br>                    <span class="token operator">&lt;</span>button<br>                        onClick<span class="token operator">=</span><span class="token punctuation">{</span>openProps<span class="token punctuation">.</span>toggle<span class="token punctuation">}</span><br>                        type<span class="token operator">=</span><span class="token string">"button"</span><br>                    <span class="token operator">></span><br>                        <span class="token constant">MENU</span><br>                    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><br>                    <span class="token operator">&lt;</span>Welcome <span class="token operator">/</span><span class="token operator">></span><br>                <span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">></span><br>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><br>        <span class="token punctuation">)</span><span class="token punctuation">}</span><br>    <span class="token operator">&lt;</span><span class="token operator">/</span>Open<span class="token operator">></span><br><span class="token punctuation">)</span></code></pre>
<p>We pass <code>Open</code> a child function that looks for our render props. Now I just need to switch out all references to <code>this.state.menuIsOpen</code> and <code>this.toggle</code> to refer to <code>openProps</code>.</p>
<p>Notice that <code>App</code> no longer needs a state; we can convert it to a functional component and let <code>Open</code> do all the work.</p>
<p>Next, let‚Äôs do the same thing with <code>Menu</code>:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">Menu</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=></span> <span class="token punctuation">(</span><br>    <span class="token operator">&lt;</span>Open<span class="token operator">></span><br>        <span class="token punctuation">{</span><span class="token parameter">openProps</span> <span class="token operator">=></span> <span class="token punctuation">(</span><br>            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"menu"</span><span class="token operator">></span><br>                <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>toggle<span class="token punctuation">}</span> type<span class="token operator">=</span><span class="token string">"button"</span><span class="token operator">></span><br>                    <span class="token constant">CLOSE</span><br>                <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><br>                <span class="token operator">&lt;</span>h2<span class="token operator">></span>Menu<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span><br>                <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>openProps<span class="token punctuation">.</span>toggle<span class="token punctuation">}</span> type<span class="token operator">=</span><span class="token string">"button"</span><span class="token operator">></span><br>                    <span class="token constant">SOCIALS</span> <span class="token punctuation">{</span>openProps<span class="token punctuation">.</span>isOpen <span class="token operator">?</span> <span class="token string">'‚ñ¥'</span> <span class="token operator">:</span> <span class="token string">'‚ñæ'</span><span class="token punctuation">}</span><br>                <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><br>                <span class="token punctuation">{</span>openProps<span class="token punctuation">.</span>isOpen <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>Socials <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">}</span><br>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><br>        <span class="token punctuation">)</span><span class="token punctuation">}</span><br>    <span class="token operator">&lt;</span><span class="token operator">/</span>Open<span class="token operator">></span><br><span class="token punctuation">)</span></code></pre>
<p>Likewise, we were able to simplify Menu by converting it to a functional component as well. This may not seem like a big deal now, but it will be increasingly important as an application scales.</p>
<blockquote>
<p>The fewer states and methods that you need to manage, the¬†better.</p>
</blockquote>
<p>You can see our render prop live, in all its glory, here on CodeSandbox:</p>
<iframe
     src="https://codesandbox.io/embed/x5j1pl90o?fontsize=14&hidenavigation=1&theme=dark&view=preview"
     style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;"
     title="How to create a render prop component"
     allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb"
     sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"
   ></iframe>
<h2 id="review" tabindex="-1">Review</h2>
<p>The render props technique is a great way to abstract reusable logic into specialized components. These components pass their logic/data/methods as arguments to functions passed as props.</p>
<p>Utilizing render props components solves the two problems above:</p>
<ol>
<li>üëç <strong>DRY</strong>: The only code repeated is <code>&lt;Open&gt;</code>. You‚Äôll never have to write another <code>toggle</code> method.</li>
<li>üëç <strong>Extensible</strong>: Next time you want to add opening and closing to your app, all you need to add is <code>Open</code>.</li>
</ol>
<p>Now that we‚Äôve reviewed, let‚Äôs take a look back at that original example from <code>react-spring</code>:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Spring <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-spring'</span><br><br><span class="token operator">&lt;</span>Spring from<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">></span><br>  <span class="token punctuation">{</span><span class="token parameter">styles</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">}</span><span class="token operator">></span>i will fade <span class="token keyword">in</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">}</span> <span class="token comment">// &lt;-- Here</span><br><span class="token operator">&lt;</span><span class="token operator">/</span>Spring<span class="token operator">></span></code></pre>
<p>We can see that this <code>Spring</code> component is passed a <code>this.props.children</code> function. It then gives some data, in this case a style object, to that function as an argument. Finally, those <code>styles</code> are applied to the <code>div</code>.</p>
<p>Not bad, right? Now that you‚Äôve mastered render props, make sure to check out this curated list of awesome render props. In the words of Captain Planet, ‚ÄúThe power is yours!‚Äù</p>
<hr>
<p>I hope this article helped; I know I learned a lot while writing it. Let me know if you have any <a href="#comment-link">questions about or problems</a>.</p>
<p>Happy coding!</p>
<hr class="small"/>
    <section class="footnotes --clear-child-margins">
        <h2 class="--visually-hidden">Footnotes</h2>
        <ol>
    <li id="fn1" class="footnote-item"><p><a href="https://reactjs.org/docs/render-props.html">https://reactjs.org/docs/render-props.html</a> <a href="#fnref1" class="footnote-backref">‚Ü©Ô∏é</a></p>
</li>
</ol>
</section>

        <hr class="small" />
        <section class="article__footer --clear-child-margins">
            <p>
                <a id="comment-link" href="mailto:sean@seanmcp.com?subject=Re: How%20to%20create%20a%20render%20prop%20component">Send a comment</a>
            </p>
            
                <p>
                    <a href="https://esv.org/Psalm%20116:12" rel="noopener noreferrer" target="_blank">Psalm 116:12</a>
                </p>
            
        </section>
    </div>
</article>
<section class="bio">
    <div class="container --content --clear-child-margins">
        <hr class="small"/>
        <h2>About<span class="--visually-hidden">&nbsp;the author</span>
        </h2>
        <div class="bio__content">
            <img alt="" loading="lazy" src="/img/seanmcp_thumbnail.png"/>
            <p>
                
                    Sean McPherson is a software engineer for Khan Academy who specializes in web and mobile app development. He lives with
                    his wife, sons, and dog in Pittsburgh, PA.
                
                (SDG)</p>
        </div>
    </div>
</section>
        </main>

        <footer class="site-footer">
    <div class="container --content --clear-child-margins">
        <div>
            <b>SeanMcP.com</b><br>
            <small>Copyright ¬© 2018-2022 Sean McPherson (SDG)</small>
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr;">
            <div>
                <h2>Navigation</h2>
                
                
                <nav aria-label="secondary" ><a  href="/about/">About</a><a  href="/articles/">Articles</a><a  href="/tags/">Tags</a><a  href="/talks/">Talks</a><a  href="/notes/">Notes</a><a  href="/bookshelf/">Bookshelf</a><a  href="/soccer/">Soccer</a><a  href="/feed/feed.xml">Feed</a></nav>
            </div>
            <div>
                <h2>Social</h2>
                
                
                <nav aria-label="social" ><a  href="https://github.com/seanmcp">GitHub</a><a  href="https://twitter.com/snmcp">Twitter</a><a  href="https://smcp.dev/yt">YouTube</a><a  href="https://linkedin.com/in/seanmcp">LinkedIn</a></nav>
            </div>
        </div>
    </div>
</footer>
        <!-- Current page: /articles/create-a-render-prop-component/ -->
    </body>
    <script src="/js/scroll-progress.js"></script>
    <script src="/js/theme-toggle.js"></script>
    <script src="/js/stars.js"></script>
    
</html>