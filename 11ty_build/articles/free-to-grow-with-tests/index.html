<!doctype html>
<html lang="en" >
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        





<title>Free to grow - SeanMcP.com</title>
<meta property="og:site_name" content="SeanMcP.com" />
<meta property="og:title" content="Free to grow" />
<meta name="twitter:title" content="Free to grow">

<meta name="description" content="Why tests (should) free you to grow with confidence">
<meta property="og:description" content="Why tests (should) free you to grow with confidence" />
<meta name="twitter:description" content="Why tests (should) free you to grow with confidence">

<meta property="og:image" content="https://seanmcp.com/img/redwood.min.jpg" />
<meta name="twitter:image" content="https://seanmcp.com/img/redwood.min.jpg">


<meta property="og:type" content="website" />
<meta property="og:url" content="https://seanmcp.com/articles/free-to-grow-with-tests/" />


<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@snmcp">
        <link rel="stylesheet" href="/css/index.css">
        <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Sean McPherson">
        <link rel="alternate" href="feed/notes.xml" type="application/atom+xml" title="Notes on Sean McPherson">
        
            <link rel="shortcut icon" href="/img/seanmcp.favicon.png" type="image/png">
        
        
        <style>:root{--dark:hsl(216, 5%, 10%);--light:hsl(216, 5%, 97%);--accent:hsl(188, 100%, 42%);--primary:hsl(216, 85%, 34%);--background:var(--light);--off-background:hsla(0, 0%, 10%, 20%);--text-color:var(--dark);--anchor-color:var(--primary);--note-anchor-color:var(--accent);--block-code-background:hsla(0, 0%, 0%, 90%);--inline-code-background:hsla(0, 0%, 0%, 7.5%);--inline-code-color:hsla(0, 0%, 0%, 75%);--body-font:-apple-system,BlinkMacSystemFont,Helvetica,Arial,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;--mono-font:Menlo,Monaco,Consolas,"Andale Mono WT","Andale Mono","Lucida Console","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L","Courier New",Courier,monospace}html[data-page-flavor=soccer]{--accent:hsl(100, 50%, 50%);--primary:hsl(120, 50%, 30%)}body{--scroll-progress-height:6px;background:var(--background);color:var(--text-color);font-family:var(--body-font);margin:0;padding:0;padding-top:var(--scroll-progress-height);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body[data-theme=dark]{--background:var(--dark);--off-background:hsla(216, 5%, 95%, 15%);--text-color:var(--light);--anchor-color:var(--accent);--inline-code-background:hsla(0, 0%, 0%, 50%);--inline-code-color:hsla(0, 0%, 100%, 85%);--note-anchor-color:var(--primary)}.container{padding:1rem;margin:0 auto}.site-header .container{align-items:center;display:flex;justify-content:space-between}.site-header nav{align-items:center;display:flex;flex-wrap:wrap}.site-header nav a:not(:last-of-type){margin-right:1rem}:is(.stars-toggle,.theme-toggle):hover{cursor:pointer;outline:0!important}:is(.theme-toggle,.stars-toggle):focus-within{outline:3px solid var(--anchor-color);outline-offset:3px}.theme-toggle:hover span::before{transform:translateX(-2px)}.theme-toggle:hover span::after{transform:translateX(2px)}.theme-toggle input+span{--size:1.25em;display:inline-block;position:relative;width:var(--size);height:var(--size)}.theme-toggle input+span::after,.theme-toggle input+span::before{border:1px solid var(--text-color);content:"";display:inline-block;height:calc(var(--size) * 2 / 3);position:relative;transition:transform .1s ease-in-out;width:calc(var(--size) * 2 / 3)}.theme-toggle input+span::before{background-color:var(--text-color)}.theme-toggle input+span::after{background:var(--background);position:absolute;bottom:0;right:0}.theme-toggle input:checked+span::before{background-color:var(--background)}.theme-toggle input:checked+span::after{background-color:var(--text-color);z-index:-1}.stars-toggle{align-items:center;display:flex;justify-content:center}.stars-toggle svg{display:inline-block}.stars-toggle path{transition:transform .2s ease-in-out;transform-origin:50% 50%}.stars-toggle:hover path{transform:rotate(72deg)}.stars-toggle input:checked+svg{fill:currentColor}[data-star]{cursor:pointer;font-size:1.5rem;position:absolute;transform:translate(-50%,-50%)}[data-star]:after{content:"⭐️";display:inline-block}@media screen and (min-width:500px){.container{padding:2rem}.container.--content{max-width:70ch}}.breadcrumbs ol{display:flex;list-style:none;margin:0;padding:0}.breadcrumbs li+li::before{color:var(--off-background);content:"/";display:inline-block;height:1rem;margin:0 .5rem}.skip-link{background-color:var(--primary);color:#fff!important;font-weight:700;position:fixed;padding:1rem;z-index:9999}.skip-link:not(:focus){right:200%}.skip-link:focus{left:0;outline:2px dotted white}#scroll-progress{--height:var(--scroll-progress-height);background:linear-gradient(to right,var(--accent),var(--primary));position:fixed;height:var(--height);left:0;right:0;top:0;z-index:1000}#scroll-progress span{--width:var(--height);border-right:var(--width) solid var(--background);bottom:0;left:calc(var(--width)/ -2);position:absolute;top:0;width:0%}</style>
        
        
            <link rel="stylesheet" href="/css/prism.css">
        
            <link rel="stylesheet" href="/css/markdown-it.css">
        
        
        
    </head>
    <body data-page-type="article" >
        <div id="scroll-progress"><span></span></div>
        <a class="skip-link" href="#main">Skip to main content</a>
        <header class="site-header">
    <div class="container --content">
        <a aria-label="Sean McP" class="logo-link" href="/"></a>
        <div style="align-items:center;display:flex;">
            
            
            
            <nav aria-label="primary" id="desktop-nav"><a  href="/articles/">Articles</a><a  href="/about/">About</a></nav>
            <label class="theme-toggle" style="margin-left:1.25rem">
                <span class="--visually-hidden">Toggle theme</span>
                <input class="--visually-hidden" type="checkbox" id="dark-mode"/>
                <span></span>
            </label>
            <label class="stars-toggle" style="margin-left:1.25rem">
                <span class="--visually-hidden">Toggle stars</span>
                <input class="--visually-hidden" type="checkbox" id="stars-checkbox" checked/>
                <svg width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12 1.34175L14.6395 7.91471L14.7565 8.20601L15.0697 8.22724L22.1366 8.70642L16.701 13.2479L16.4601 13.4492L16.5367
                            13.7536L18.2648 20.6227L12.2659 16.8565L12 16.6896L11.7341 16.8565L5.73524 20.6227L7.46331 13.7536L7.5399 13.4492L7.29901
                            13.2479L1.8634 8.70642L8.93032 8.22724L9.2435 8.20601L9.36048 7.91471L12 1.34175Z"
                        stroke="currentColor"/>
                </svg>
            </label>
        </div>
    </div>
</header>

        <main id="main" role="main" class="main main--article">
            

<article class="article">
    <div class="container --content">
        
            <time class="date" datetime="2020-02-17">Feb 17, 2020</time>
        
        <h1 style="margin-top:1rem;">Free to grow</h1>
        
            
            <ul class="--horizontal-list">
    
            <li>
                <a href="/tags/testing/" class="tag tag--testing">Testing</a>
            </li>
</ul>
        
        <img class="article__image" src="/img/redwood.min.jpg" alt="Free to grow"/>
        <hr class="small"/>
        
        <!-- Outline

- Holds up to refactoring
- Promotes iteration
- Confidence to grow
-->
<p>I previously <a href="../snapshot_test_ui_components">wrote about testing UI components</a>, and why I recommend that you don’t use snapshots. I finished that article with this line:</p>
<blockquote>
<p>Your tests should give me the confidence to refactor any component to your heart’s content. They should fail if you change functionality, not structure.</p>
</blockquote>
<p>Instead, I advocate for writing entirely <a href="https://en.wikipedia.org/wiki/Functional_testing">functional tests</a>, asserting based on the required functionality of the component.</p>
<p>This type of testing is certainly more difficult and time-consuming (especially compared to snapshots). But I think the benefits are clear: they hold up under <strong>refactoring</strong>, promote <strong>iteration</strong>, and gives you the confidence to <strong>grow</strong>.</p>
<h2 id="refactoring" tabindex="-1">Refactoring</h2>
<p>I have yet to come across a component or complex function I’ve written that couldn’t use refactoring. Maybe it’s a new technique that is perfect for these situation, or perhaps it’s logic that appeared logical at the time that isn’t on a second look.</p>
<p>Whatever the case, refactoring code is a constant in this profession, and tests (should) help you embrace it.</p>
<p>When you write a functional test, you start with a statement like “With <code>A</code> input, my function should output <code>B</code>.” Then you write a test that covers that condition. Your test doesn’t care how you get from <code>A</code> to <code>B</code>, just that you always do.</p>
<p>Maybe the first time through you take a long an circuitous path with lots of conditional logic. Next time you refactor, you take a more direct route. Then you decide that some of those conditions were necessary. The test doesn’t care, so long as <code>fn(A) = B</code>.</p>
<!-- <blockquote class="twitter-tweet"><p lang="en" dir="ltr">Refactoring ones own code, and watching the tests continue to pass, is both a humbling and an enriching experience.</p>&mdash; Venkat Subramaniam (@venkat_s) <a href="https://twitter.com/venkat_s/status/1176386197641412608?ref_src=twsrc%5Etfw">September 24, 2019</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> -->
<h2 id="iteration" tabindex="-1">Iteration</h2>
<p>Refactoring is looking back at code, while iterating is looking ahead. Our goal as software engineers should be to continuously deliver incremental improvements on our active products. This means slowing building on what we already have.</p>
<p>Maybe you designed a function with situation A in mind, but notice that with a minor adjustment it can easily handle B and C. Once you are done making that change, the functional test that you wrote for situation A should be the barometer for moving forward.</p>
<p>If the test passes, then you’re good to proceed. If not, then you’ve made a breaking change; go back and rethink your approach.</p>
<p>When you’re looking to add a new feature to your product, a passing test suite should give you full confidence that all of your changes are backwards compatible.</p>
<h2 id="free-to-grow" tabindex="-1">Free to grow</h2>
<p>A redwood tree doesn’t grow to 300 feet over night. Rather, a journey of a thousand miles begins with a single step<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>.</p>
<p>Great software is not written in one sitting. It is fine tuned and improved slowly over the lifespan of the product.</p>
<p>This means a regular cycle of refactoring and iteration–improving and expanding. The more your software is able to do this, the healthier it is and the better it will become over time.</p>
<p>A functional test suite enables and encourages your software to grow this way. You can make improvements to your code and verify that it still functions. You can add more features while being assured that there are no breaking changes.</p>
<p>To set your team or product up on a thousand-mile journey, start with your best foot forward. Write the kind of tests that enable you to take each successive step with confidence.</p>
<p>Write functional tests.</p>
<hr class="small"/>
    <section class="footnotes --clear-child-margins">
        <h2 class="--visually-hidden">Footnotes</h2>
        <ol>
    <li id="fn1" class="footnote-item"><p>Paraphrased from Laozi’s <a href="https://en.wikipedia.org/wiki/Tao_Te_Ching"><em>Tao Te Ching</em></a> <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>

        <hr class="small" />
        <section class="article__footer --clear-child-margins">
            <p>
                <a id="comment-link" href="mailto:sean@seanmcp.com?subject=Re: Free%20to%20grow">Send a comment</a>
            </p>
            
                <p>
                    <a href="https://esv.org/Isaiah%2053:2" rel="noopener noreferrer" target="_blank">Isaiah 53:2</a>
                </p>
            
        </section>
    </div>
</article>
<section class="bio">
    <div class="container --content --clear-child-margins">
        <hr class="small"/>
        <h2>About<span class="--visually-hidden">&nbsp;the author</span>
        </h2>
        <div class="bio__content">
            <img alt="" loading="lazy" src="/img/seanmcp_thumbnail.png"/>
            <p>
                
                    Sean McPherson is a software engineer for Khan Academy who specializes in web and mobile app development. He lives with
                    his wife, sons, and dog in Pittsburgh, PA.
                
                (SDG)</p>
        </div>
    </div>
</section>
        </main>

        <footer class="site-footer">
    <div class="container --content --clear-child-margins">
        <div>
            <b>SeanMcP.com</b><br>
            <small>Copyright © 2018-2022 Sean McPherson (SDG)</small>
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr;">
            <div>
                <h2>Navigation</h2>
                
                
                <nav aria-label="secondary" ><a  href="/about/">About</a><a  href="/articles/">Articles</a><a  href="/tags/">Tags</a><a  href="/talks/">Talks</a><a  href="/notes/">Notes</a><a  href="/bookshelf/">Bookshelf</a><a  href="/soccer/">Soccer</a><a  href="/feed/feed.xml">Feed</a></nav>
            </div>
            <div>
                <h2>Social</h2>
                
                
                <nav aria-label="social" ><a  href="https://github.com/seanmcp">GitHub</a><a  href="https://twitter.com/snmcp">Twitter</a><a  href="https://smcp.dev/yt">YouTube</a><a  href="https://linkedin.com/in/seanmcp">LinkedIn</a></nav>
            </div>
        </div>
    </div>
</footer>
        <!-- Current page: /articles/free-to-grow-with-tests/ -->
    </body>
    <script src="/js/scroll-progress.js"></script>
    <script src="/js/theme-toggle.js"></script>
    <script src="/js/stars.js"></script>
    
</html>